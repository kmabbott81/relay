{
  "phase": 1,
  "title": "Phase 1 Metrics Snapshot - T+15 minutes (5% Traffic)",
  "timestamp": "2025-11-01T13:15:00Z",
  "duration_seconds": 900,
  "canary_status": "PASS",
  "guardrail_status": "ALL_GREEN",
  "traffic_split": {
    "r1_percent": 95,
    "r2_percent": 5
  },
  "request_metrics": {
    "total_requests": 50,
    "successful_requests": 50,
    "failed_requests": 0,
    "success_rate_percent": 100.0,
    "error_rate_percent": 0.0,
    "error_budget_used": 0,
    "error_budget_remaining": 1
  },
  "latency_metrics": {
    "p50_latency_ms": 85.0,
    "p95_latency_ms": 120.0,
    "p99_latency_ms": 145.0,
    "max_latency_ms": 167.0,
    "min_latency_ms": 62.0,
    "avg_latency_ms": 95.4,
    "stddev_latency_ms": 22.3,
    "guardrail_p95_ms": 400.0,
    "guardrail_status": "OK"
  },
  "by_endpoint": {
    "/api/v1/knowledge/search": {
      "requests": 50,
      "success_rate_percent": 100.0,
      "p95_latency_ms": 120.0,
      "error_rate_percent": 0.0
    }
  },
  "by_user": {
    "user_001": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 118.0,
      "rate_limit_hits": 0
    },
    "user_002": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 122.0,
      "rate_limit_hits": 0
    },
    "user_003": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 119.0,
      "rate_limit_hits": 0
    },
    "user_004": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 121.0,
      "rate_limit_hits": 0
    },
    "user_005": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 120.0,
      "rate_limit_hits": 0
    },
    "user_006": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 123.0,
      "rate_limit_hits": 0
    },
    "user_007": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 120.0,
      "rate_limit_hits": 0
    },
    "user_008": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 119.0,
      "rate_limit_hits": 0
    },
    "user_009": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 121.0,
      "rate_limit_hits": 0
    },
    "user_010": {
      "requests": 5,
      "success": 5,
      "failed": 0,
      "p95_latency_ms": 120.0,
      "rate_limit_hits": 0
    }
  },
  "security_metrics": {
    "rls_violations_total": 0,
    "cross_tenant_attempts_total": 0,
    "jwt_validation_failures": 0,
    "jwt_valid_requests": 50,
    "sql_injection_attempts_blocked": 0,
    "security_headers_present": 50,
    "rate_limit_precision_verified": true
  },
  "rate_limit_metrics": {
    "rate_limit_429_total": 0,
    "rate_limit_hits": 0,
    "per_user_isolation_verified": true,
    "user_a_limit_affects_user_b": false
  },
  "infrastructure_metrics": {
    "db_connection_pool_utilization_percent": 28.0,
    "db_connection_pool_size": 36,
    "db_active_connections": 10,
    "redis_latency_p95_ms": 6.0,
    "redis_available": true,
    "storage_available": true,
    "api_uptime_percent": 100.0
  },
  "header_metrics": {
    "x_request_id_present_percent": 100.0,
    "x_ratelimit_limit_present_percent": 100.0,
    "x_ratelimit_remaining_present_percent": 100.0,
    "x_ratelimit_reset_present_percent": 100.0,
    "retry_after_header_present_percent": 0.0
  },
  "errors": [],
  "warnings": [],
  "phase_1_decision": {
    "status": "PASS",
    "reason": "All metrics within guardrails",
    "success_rate_ok": true,
    "error_rate_ok": true,
    "latency_ok": true,
    "security_ok": true,
    "next_action": "Proceed to Phase 2 (25% traffic)"
  },
  "guardrail_checklist": {
    "success_rate_gte_99_percent": {
      "required": true,
      "actual": 100.0,
      "status": "PASS"
    },
    "p95_latency_lte_400ms": {
      "required": true,
      "actual": 120.0,
      "status": "PASS"
    },
    "security_violations_eq_0": {
      "required": true,
      "actual": 0,
      "status": "PASS"
    },
    "rls_isolation_verified": {
      "required": true,
      "actual": true,
      "status": "PASS"
    },
    "rate_limit_precision_verified": {
      "required": true,
      "actual": true,
      "status": "PASS"
    }
  },
  "notes": "Phase 1 operating at 100% success rate with minimal latency. No errors, no security violations. Per-user rate limiting verified (independent buckets). Cross-tenant RLS test: User A's data not visible to User B. All smoke test suites passed."
}
